head(data)
grep("^historic",colnames(data))
for(col in grep("^historic",colnames(data),value=T)){
}
data[,col]
strsplit(data[,col], " // ")
for(i in 1:nrow(data)){
strsplit(data[i,col], " // ")[[1]]
}
s<-strsplit(data[i,col], " // ")[[1]]
s
col
s
strsplit(s[j],"/")[[1]]
for(j in 1:length(s)){
newagecol<-paste0(col,"_age_",j)
strsplit(s[j],"/")[[1]]
}
strsplit(s[j],"/")[[1]]
s1<-strsplit(data[i,col], " // ")[[1]]
newagecol<-paste0(col,"_age_",j)
strsplit(s1[j],"/")[[1]]
for(col in grep("^historic",colnames(data),value=T)){
for(i in 1:nrow(data)){
s1<-strsplit(data[i,col], " // ")[[1]]
for(j in 1:length(s1)){
s2<-strsplit(s1[j],"/")[[1]]
data[i,paste0(col,"_age_",j)]<-s2[1]
data[i,paste0(col,"_val_",j)]<-s2[2]
}
}
}
head(data)
basename(data_path)
#static coded input and data-loading
library(openxlsx)
#Cheking input argument count
if(length(args)!=6)stop("Must give 1 argument exactly")
#Getting and cheking data_path argument
data_path<-args[6]
if(class(data_path)!="character")stop("data_path must be given as a text")
if(!file.exists(data_path))stop("data_path must be given as the location of an actual file")
data<-read.xlsx(data_path)
for(col in grep("^historic",colnames(data),value=T)){
for(i in 1:nrow(data)){
s1<-strsplit(data[i,col], " // ")[[1]]
for(j in 1:length(s1)){
s2<-strsplit(s1[j],"/")[[1]]
data[i,paste0(col,"_age_",j)]<-s2[1]
data[i,paste0(col,"_val_",j)]<-s2[2]
}
}
}
write.xlsx(data,file=basename(data_path))
value <- 40
population_mean <- 50
population_sd <- 5
pnorm(value,mean=population_mean,sd=population_sd)
value <- 60
pnorm(value,mean=population_mean,sd=population_sd)
value <- 40
population_mean <- 50
population_sd <- 5
if(length(args)!=8)stop("Must give 3 arguments exactly (value, population_mean, and population_sd)")
pnorm(value,mean=population_mean,sd=population_sd)
round(pnorm(value,mean=population_mean,sd=population_sd)*100,1)
percentage<-round(pnorm(value,mean=population_mean,sd=population_sd)*100,1)
args<-commandArgs()
#Args for testing stuff (not run)
value <- 40
population_mean <- 50
population_sd <- 5
#static coded input and data-loading
#Cheking input argument count
if(length(args)!=8)stop("Must give 3 arguments exactly (value, population_mean, and population_sd)")
#Getting and cheking genetic_height_estimate argument
percentage<-round(pnorm(value,mean=population_mean,sd=population_sd)*100,1)
#output
cat("benchmark_percent\n")
cat(percentage)
percentage<-round(pnorm(value,mean=population_mean,sd=population_sd)*100,1)
percentage
value <- 1840
population_mean <- 1725
population_sd <- 94
percentage<-round(pnorm(value,mean=population_mean,sd=population_sd)*100,1)
percentage
read.table("2016-09-08_means.txt")
read.table("R_scripts/bio_age/2016-09-08_means.txt")
d<-read.table("R_scripts/bio_age/2016-09-08_means.txt")
head(d)
d<-read.table("R_scripts/bio_age/2016-09-08_means.txt",row.names=1)
d
grep("_mean_",rownames(d))
grep("_mean_",rownames(d),value=T)
d<-read.table("R_scripts/bio_age/2016-09-08_means.txt",row.names=1)
entries<-grep("_mean_",rownames(d),value=T)
entries
for(entry in entries){
}
sub("mean","sd",entry)
for(entry in entries){
sub("mean","sd",entry)
}
sub("mean","sd",entry)
d[entry,]
t(d[entry,])[,1]
sds<-t(d[sd_row,])[,1]
sd_row<-sub("mean","sd",entry)
means<-t(d[entry,])[,1]
sds<-t(d[sd_row,])[,1]
sds
sd_row
d[sd_row,]
d
d<-read.table("R_scripts/bio_age/2016-09-08_means.txt",row.names=1)
entries<-grep("_mean_",rownames(d),value=T)
for(entry in entries){
sd_row<-sub("mean","sd",entry)
means<-t(d[entry,])[,1]
sds<-t(d[sd_row,])[,1]
}
sds
rownames(d)
ages<-d["Age",]
ages
ages<-t(d["Age",])[,1]
ages
data.frame(means,sds,ages)
d1<-data.frame(means,sds,ages)
d1<-data.frame(mean=t(d[entry,])[,1],sd=t(d[sd_row,])[,1],ages=t(d["Age",])[,1])
d1
d1<-data.frame(mean=t(d[entry,])[,1],sd=t(d[sub("mean","sd",entry),])[,1],ages=t(d["Age",])[,1])
d1
d1[,"mean"] + d1[,"sd"]
d1[,"mean"] + d1[,"sd"]*1.96
max(d1[,"mean"] + d1[,"sd"]*1.96)
ylim <- c(min(d1[,"mean"] - d1[,"sd"]*1.96), max(d1[,"mean"] + d1[,"sd"]*1.96))
ylim
d1<-data.frame(mean=t(d[entry,])[,1],sd=t(d[sub("mean","sd",entry),])[,1],age=t(d["Age",])[,1])
xlim <- range(d1[,"age"])
xlim
plot(NULL,xlim=xlim,ylim=ylim)
plot(NULL,xlim=xlim,ylim=ylim,xlab="age",ylab=entry)
plot(NULL,xlim=xlim,ylim=ylim,xlab="age",ylab=sub("population_mean_","",entry))
lines(d1[,"age"],d1[,"mean"])
lines(d1[,"age"],d1[,"mean"],lwd=2)
lines(d1[,"age"],d1[,"mean"]+d1[,"sd"]*1,lwd=2)
lines(d1[,"age"],d1[,"mean"]+d1[,"sd"]*2,lwd=1,lty=2)
plot(NULL,xlim=xlim,ylim=ylim,xlab="age",ylab=sub("population_mean_","",entry))
lines(d1[,"age"],d1[,"mean"],lwd=2)
lines(d1[,"age"],d1[,"mean"]+d1[,"sd"]*1,lwd=1,col="grey70")
lines(d1[,"age"],d1[,"mean"]+d1[,"sd"]*2,lwd=1,lty=2,col="grey70")
plot(NULL,xlim=xlim,ylim=ylim,xlab="age",ylab=sub("population_mean_","",entry))
lines(d1[,"age"],d1[,"mean"],lwd=2)
lines(d1[,"age"],d1[,"mean"]+d1[,"sd"]*1,lwd=1,col="grey50")
lines(d1[,"age"],d1[,"mean"]+d1[,"sd"]*2,lwd=1,col="grey70")
plot(NULL,xlim=xlim,ylim=ylim,xlab="age",ylab=sub("population_mean_","",entry))
lines(d1[,"age"],d1[,"mean"],lwd=2)
lines(d1[,"age"],d1[,"mean"]+d1[,"sd"]*1,lwd=1,col="grey50")
lines(d1[,"age"],d1[,"mean"]+d1[,"sd"]*2,lwd=1,col="grey70")
lines(d1[,"age"],d1[,"mean"]-d1[,"sd"]*1,lwd=1,col="grey50")
lines(d1[,"age"],d1[,"mean"]-d1[,"sd"]*2,lwd=1,col="grey70")
text(x=xlim[2],y=d1[nrow(d1),"mean"]+d1[,"sd"]*0)
text("0 SD",x=xlim[2],y=d1[nrow(d1),"mean"]+d1[,"sd"]*0)
plot(NULL,xlim=xlim,ylim=ylim,xlab="age",ylab=sub("population_mean_","",entry))
lines(d1[,"age"],d1[,"mean"],lwd=2)
lines(d1[,"age"],d1[,"mean"]+d1[,"sd"]*1,lwd=1,col="grey50")
lines(d1[,"age"],d1[,"mean"]+d1[,"sd"]*2,lwd=1,col="grey70")
lines(d1[,"age"],d1[,"mean"]-d1[,"sd"]*1,lwd=1,col="grey50")
lines(d1[,"age"],d1[,"mean"]-d1[,"sd"]*2,lwd=1,col="grey70")
text("Mean",x=xlim[2],y=d1[nrow(d1),"mean"]+d1[,"sd"]*0,cex=0.7)
text("+1SD",x=xlim[2],y=d1[nrow(d1),"mean"]+d1[,"sd"]*1,cex=0.7)
text("+2SD",x=xlim[2],y=d1[nrow(d1),"mean"]+d1[,"sd"]*2,cex=0.7)
text("-1SD",x=xlim[2],y=d1[nrow(d1),"mean"]-d1[,"sd"]*1,cex=0.7)
text("-2SD",x=xlim[2],y=d1[nrow(d1),"mean"]-d1[,"sd"]*2,cex=0.7)
plot(NULL,xlim=xlim,ylim=ylim,xlab="age",ylab=sub("population_mean_","",entry))
lines(d1[,"age"],d1[,"mean"],lwd=2)
lines(d1[,"age"],d1[,"mean"]+d1[,"sd"]*1,lwd=1,col="grey50")
lines(d1[,"age"],d1[,"mean"]+d1[,"sd"]*2,lwd=1,col="grey70")
lines(d1[,"age"],d1[,"mean"]-d1[,"sd"]*1,lwd=1,col="grey50")
lines(d1[,"age"],d1[,"mean"]-d1[,"sd"]*2,lwd=1,col="grey70")
text("Mean",x=xlim[2],y=d1[nrow(d1),"mean"]+d1[nrow(d1),"sd"]*0,cex=0.7)
text("+1SD",x=xlim[2],y=d1[nrow(d1),"mean"]+d1[nrow(d1),"sd"]*1,cex=0.7)
text("+2SD",x=xlim[2],y=d1[nrow(d1),"mean"]+d1[nrow(d1),"sd"]*2,cex=0.7)
text("-1SD",x=xlim[2],y=d1[nrow(d1),"mean"]-d1[nrow(d1),"sd"]*1,cex=0.7)
text("-2SD",x=xlim[2],y=d1[nrow(d1),"mean"]-d1[nrow(d1),"sd"]*2,cex=0.7)
pdf("2016-09-12_plots_of_development.pdf")
layout(matrix(1:4,nrow=2))
for(entry in entries){
d1<-data.frame(mean=t(d[entry,])[,1],sd=t(d[sub("mean","sd",entry),])[,1],age=t(d["Age",])[,1])
ylim <- c(min(d1[,"mean"] - d1[,"sd"]*1.96), max(d1[,"mean"] + d1[,"sd"]*1.96))
xlim <- range(d1[,"age"])
plot(NULL,xlim=xlim,ylim=ylim,xlab="age",ylab=sub("population_mean_","",entry))
lines(d1[,"age"],d1[,"mean"],lwd=2)
lines(d1[,"age"],d1[,"mean"]+d1[,"sd"]*1,lwd=1,col="grey50")
lines(d1[,"age"],d1[,"mean"]+d1[,"sd"]*2,lwd=1,col="grey70")
lines(d1[,"age"],d1[,"mean"]-d1[,"sd"]*1,lwd=1,col="grey50")
lines(d1[,"age"],d1[,"mean"]-d1[,"sd"]*2,lwd=1,col="grey70")
text("Mean",x=xlim[2],y=d1[nrow(d1),"mean"]+d1[nrow(d1),"sd"]*0,cex=0.7)
text("+1SD",x=xlim[2],y=d1[nrow(d1),"mean"]+d1[nrow(d1),"sd"]*1,cex=0.7)
text("+2SD",x=xlim[2],y=d1[nrow(d1),"mean"]+d1[nrow(d1),"sd"]*2,cex=0.7)
text("-1SD",x=xlim[2],y=d1[nrow(d1),"mean"]-d1[nrow(d1),"sd"]*1,cex=0.7)
text("-2SD",x=xlim[2],y=d1[nrow(d1),"mean"]-d1[nrow(d1),"sd"]*2,cex=0.7)
}
dev.off()
for(entry in entries){
d1<-data.frame(mean=t(d[entry,])[,1],sd=t(d[sub("mean","sd",entry),])[,1],age=t(d["Age",])[,1])
ylim <- c(min(d1[,"mean"] - d1[,"sd"]*1.96), max(d1[,"mean"] + d1[,"sd"]*1.96))
xlim <- range(d1[,"age"])
plot(NULL,xlim=xlim,ylim=ylim,xlab="age",ylab=sub("population_mean_","",entry))
lines(d1[,"age"],d1[,"mean"],lwd=2)
lines(d1[,"age"],d1[,"mean"]+d1[,"sd"]*1,lwd=1,col="grey50")
lines(d1[,"age"],d1[,"mean"]+d1[,"sd"]*2,lwd=1,col="grey70")
lines(d1[,"age"],d1[,"mean"]-d1[,"sd"]*1,lwd=1,col="grey50")
lines(d1[,"age"],d1[,"mean"]-d1[,"sd"]*2,lwd=1,col="grey70")
text("Mean",x=xlim[2],y=d1[nrow(d1),"mean"]+d1[nrow(d1),"sd"]*0,cex=0.7)
text("+1SD",x=xlim[2],y=d1[nrow(d1),"mean"]+d1[nrow(d1),"sd"]*1,cex=0.7)
text("+2SD",x=xlim[2],y=d1[nrow(d1),"mean"]+d1[nrow(d1),"sd"]*2,cex=0.7)
text("-1SD",x=xlim[2],y=d1[nrow(d1),"mean"]-d1[nrow(d1),"sd"]*1,cex=0.7)
text("-2SD",x=xlim[2],y=d1[nrow(d1),"mean"]-d1[nrow(d1),"sd"]*2,cex=0.7)
}
ylim
entry
d1<-data.frame(mean=t(d[entry,])[,1],sd=t(d[sub("mean","sd",entry),])[,1],age=t(d["Age",])[,1])
d1
entries<-grep("_mean_",rownames(d),value=T)
pdf("2016-09-12_plots_of_development.pdf")
layout(matrix(1:4,nrow=2))
for(entry in entries){
d1<-data.frame(mean=t(d[entry,])[,1],sd=t(d[sub("mean","sd",entry),])[,1],age=t(d["Age",])[,1])
ylim <- c(min(d1[,"mean"] - d1[,"sd"]*1.96), max(d1[,"mean"] + d1[,"sd"]*1.96))
xlim <- range(d1[,"age"])
plot(NULL,xlim=xlim,ylim=ylim,xlab="age",ylab=sub("population_mean_","",entry))
lines(d1[,"age"],d1[,"mean"],lwd=2)
lines(d1[,"age"],d1[,"mean"]+d1[,"sd"]*1,lwd=1,col="grey50")
lines(d1[,"age"],d1[,"mean"]+d1[,"sd"]*2,lwd=1,col="grey70")
lines(d1[,"age"],d1[,"mean"]-d1[,"sd"]*1,lwd=1,col="grey50")
lines(d1[,"age"],d1[,"mean"]-d1[,"sd"]*2,lwd=1,col="grey70")
text("Mean",x=xlim[2],y=d1[nrow(d1),"mean"]+d1[nrow(d1),"sd"]*0,cex=0.7)
text("+1SD",x=xlim[2],y=d1[nrow(d1),"mean"]+d1[nrow(d1),"sd"]*1,cex=0.7)
text("+2SD",x=xlim[2],y=d1[nrow(d1),"mean"]+d1[nrow(d1),"sd"]*2,cex=0.7)
text("-1SD",x=xlim[2],y=d1[nrow(d1),"mean"]-d1[nrow(d1),"sd"]*1,cex=0.7)
text("-2SD",x=xlim[2],y=d1[nrow(d1),"mean"]-d1[nrow(d1),"sd"]*2,cex=0.7)
}
dev.off()
entry
d<-read.table("R_scripts/bio_age/2016-09-08_means.txt",row.names=1)
entries<-grep("_mean_",rownames(d),value=T)
pdf("2016-09-12_plots_of_development.pdf")
layout(matrix(1:4,nrow=2))
for(entry in entries){
d1<-data.frame(mean=t(d[entry,])[,1],sd=t(d[sub("mean","sd",entry),])[,1],age=t(d["Age",])[,1])
ylim <- c(min(d1[,"mean"] - d1[,"sd"]*1.96), max(d1[,"mean"] + d1[,"sd"]*1.96))
xlim <- range(d1[,"age"])
plot(NULL,xlim=xlim,ylim=ylim,xlab="age",ylab=sub("population_mean_","",entry))
lines(d1[,"age"],d1[,"mean"],lwd=2)
lines(d1[,"age"],d1[,"mean"]+d1[,"sd"]*1,lwd=1,col="grey50")
lines(d1[,"age"],d1[,"mean"]+d1[,"sd"]*2,lwd=1,col="grey70")
lines(d1[,"age"],d1[,"mean"]-d1[,"sd"]*1,lwd=1,col="grey50")
lines(d1[,"age"],d1[,"mean"]-d1[,"sd"]*2,lwd=1,col="grey70")
text("Mean",x=xlim[2],y=d1[nrow(d1),"mean"]+d1[nrow(d1),"sd"]*0,cex=0.7)
text("+1SD",x=xlim[2],y=d1[nrow(d1),"mean"]+d1[nrow(d1),"sd"]*1,cex=0.7)
text("+2SD",x=xlim[2],y=d1[nrow(d1),"mean"]+d1[nrow(d1),"sd"]*2,cex=0.7)
text("-1SD",x=xlim[2],y=d1[nrow(d1),"mean"]-d1[nrow(d1),"sd"]*1,cex=0.7)
text("-2SD",x=xlim[2],y=d1[nrow(d1),"mean"]-d1[nrow(d1),"sd"]*2,cex=0.7)
}
dev.off()
entry
dev.off()
d<-read.table("R_scripts/bio_age/2016-09-08_means.txt",row.names=1)
entries<-grep("_mean_",rownames(d),value=T)
pdf("2016-09-12_plots_of_development.pdf")
layout(matrix(1:4,nrow=2))
for(entry in entries){
d1<-data.frame(mean=t(d[entry,])[,1],sd=t(d[sub("mean","sd",entry),])[,1],age=t(d["Age",])[,1])
ylim <- c(min(d1[,"mean"] - d1[,"sd"]*1.96), max(d1[,"mean"] + d1[,"sd"]*1.96))
xlim <- range(d1[,"age"])
plot(NULL,xlim=xlim,ylim=ylim,xlab="age",ylab=sub("population_mean_","",entry))
lines(d1[,"age"],d1[,"mean"],lwd=2)
lines(d1[,"age"],d1[,"mean"]+d1[,"sd"]*1,lwd=1,col="grey50")
lines(d1[,"age"],d1[,"mean"]+d1[,"sd"]*2,lwd=1,col="grey70")
lines(d1[,"age"],d1[,"mean"]-d1[,"sd"]*1,lwd=1,col="grey50")
lines(d1[,"age"],d1[,"mean"]-d1[,"sd"]*2,lwd=1,col="grey70")
text("Mean",x=xlim[2],y=d1[nrow(d1),"mean"]+d1[nrow(d1),"sd"]*0,cex=0.7)
text("+1SD",x=xlim[2],y=d1[nrow(d1),"mean"]+d1[nrow(d1),"sd"]*1,cex=0.7)
text("+2SD",x=xlim[2],y=d1[nrow(d1),"mean"]+d1[nrow(d1),"sd"]*2,cex=0.7)
text("-1SD",x=xlim[2],y=d1[nrow(d1),"mean"]-d1[nrow(d1),"sd"]*1,cex=0.7)
text("-2SD",x=xlim[2],y=d1[nrow(d1),"mean"]-d1[nrow(d1),"sd"]*2,cex=0.7)
}
dev.off()
d<-read.table("R_scripts/bio_age/2016-09-08_means.txt",row.names=1)
entries<-grep("_mean_",rownames(d),value=T)
pdf("2016-09-12_plots_of_development.pdf")
layout(matrix(1:4,nrow=2))
for(entry in entries){
d1<-data.frame(mean=t(d[entry,])[,1],sd=t(d[sub("mean","sd",entry),])[,1],age=t(d["Age",])[,1])
ylim <- c(min(d1[,"mean"] - d1[,"sd"]*1.96), max(d1[,"mean"] + d1[,"sd"]*1.96))
xlim <- range(d1[,"age"])
xlim[2] <- xlim[2]+1
plot(NULL,xlim=xlim,ylim=ylim,xlab="age",ylab=sub("population_mean_","",entry))
lines(d1[,"age"],d1[,"mean"],lwd=2)
lines(d1[,"age"],d1[,"mean"]+d1[,"sd"]*1,lwd=1,col="grey50")
lines(d1[,"age"],d1[,"mean"]+d1[,"sd"]*2,lwd=1,col="grey70")
lines(d1[,"age"],d1[,"mean"]-d1[,"sd"]*1,lwd=1,col="grey50")
lines(d1[,"age"],d1[,"mean"]-d1[,"sd"]*2,lwd=1,col="grey70")
text("Mean",x=xlim[2],y=d1[nrow(d1),"mean"]+d1[nrow(d1),"sd"]*0,cex=0.7)
text("+1SD",x=xlim[2],y=d1[nrow(d1),"mean"]+d1[nrow(d1),"sd"]*1,cex=0.7)
text("+2SD",x=xlim[2],y=d1[nrow(d1),"mean"]+d1[nrow(d1),"sd"]*2,cex=0.7)
text("-1SD",x=xlim[2],y=d1[nrow(d1),"mean"]-d1[nrow(d1),"sd"]*1,cex=0.7)
text("-2SD",x=xlim[2],y=d1[nrow(d1),"mean"]-d1[nrow(d1),"sd"]*2,cex=0.7)
}
dev.off()
d<-read.table("R_scripts/bio_age/2016-09-08_means.txt",row.names=1)
entries<-grep("_mean_",rownames(d),value=T)
pdf("2016-09-12_plots_of_development.pdf")
layout(matrix(1:4,nrow=2))
for(entry in entries){
d1<-data.frame(mean=t(d[entry,])[,1],sd=t(d[sub("mean","sd",entry),])[,1],age=t(d["Age",])[,1])
ylim <- c(min(d1[,"mean"] - d1[,"sd"]*1.96), max(d1[,"mean"] + d1[,"sd"]*1.96))
xlim <- range(d1[,"age"])
xlim[2] <- xlim[2]+1
plot(NULL,xlim=xlim,ylim=ylim,xlab="age",ylab=sub("population_mean_","",entry))
lines(d1[,"age"],d1[,"mean"],lwd=2)
lines(d1[,"age"],d1[,"mean"]+d1[,"sd"]*1,lwd=1,col="grey50")
lines(d1[,"age"],d1[,"mean"]+d1[,"sd"]*2,lwd=1,col="grey70")
lines(d1[,"age"],d1[,"mean"]-d1[,"sd"]*1,lwd=1,col="grey50")
lines(d1[,"age"],d1[,"mean"]-d1[,"sd"]*2,lwd=1,col="grey70")
text("Mean",x=xlim[2],y=d1[nrow(d1),"mean"]+d1[nrow(d1),"sd"]*0,cex=0.7,adj=1)
text("+1SD",x=xlim[2],y=d1[nrow(d1),"mean"]+d1[nrow(d1),"sd"]*1,cex=0.7,adj=1)
text("+2SD",x=xlim[2],y=d1[nrow(d1),"mean"]+d1[nrow(d1),"sd"]*2,cex=0.7,adj=1)
text("-1SD",x=xlim[2],y=d1[nrow(d1),"mean"]-d1[nrow(d1),"sd"]*1,cex=0.7,adj=1)
text("-2SD",x=xlim[2],y=d1[nrow(d1),"mean"]-d1[nrow(d1),"sd"]*2,cex=0.7,adj=1)
}
dev.off()
d<-read.table("R_scripts/bio_age/2016-09-08_means.txt",row.names=1)
entries<-grep("_mean_",rownames(d),value=T)
pdf("2016-09-12_plots_of_development.pdf")
layout(matrix(1:4,nrow=2))
for(entry in entries){
d1<-data.frame(mean=t(d[entry,])[,1],sd=t(d[sub("mean","sd",entry),])[,1],age=t(d["Age",])[,1])
ylim <- c(min(d1[,"mean"] - d1[,"sd"]*1.96), max(d1[,"mean"] + d1[,"sd"]*1.96))
xlim <- range(d1[,"age"])
xlim[2] <- xlim[2]+1
plot(NULL,xlim=xlim,ylim=ylim,xlab="age",ylab=sub("population_mean_","",entry))
lines(d1[,"age"],d1[,"mean"],lwd=2)
lines(d1[,"age"],d1[,"mean"]+d1[,"sd"]*1,lwd=1,col="grey50")
lines(d1[,"age"],d1[,"mean"]+d1[,"sd"]*2,lwd=1,col="grey70")
lines(d1[,"age"],d1[,"mean"]-d1[,"sd"]*1,lwd=1,col="grey50")
lines(d1[,"age"],d1[,"mean"]-d1[,"sd"]*2,lwd=1,col="grey70")
text("Mean",x=xlim[2],y=d1[nrow(d1),"mean"]+d1[nrow(d1),"sd"]*0,cex=0.7,adj=1)
text("+1SD",x=xlim[2],y=d1[nrow(d1),"mean"]+d1[nrow(d1),"sd"]*1,cex=0.7,adj=1)
text("+2SD",x=xlim[2],y=d1[nrow(d1),"mean"]+d1[nrow(d1),"sd"]*2,cex=0.7,adj=1)
text("-1SD",x=xlim[2],y=d1[nrow(d1),"mean"]-d1[nrow(d1),"sd"]*1,cex=0.7,adj=1)
text("-2SD",x=xlim[2],y=d1[nrow(d1),"mean"]-d1[nrow(d1),"sd"]*2,cex=0.7,adj=1)
}
dev.off()
d
d<-read.table("R_scripts/bio_age/2016-09-08_means.txt",row.names=1)
entries<-grep("_mean_",rownames(d),value=T)
pdf("2016-09-12_plots_of_development.pdf")
layout(matrix(1:4,nrow=2))
for(entry in entries){
d1<-data.frame(mean=t(d[entry,])[,1],sd=t(d[sub("mean","sd",entry),])[,1],age=t(d["Age",])[,1])
ylim <- c(min(d1[,"mean"] - d1[,"sd"]*1.96), max(d1[,"mean"] + d1[,"sd"]*1.96))
xlim <- range(d1[,"age"])
xlim[2] <- xlim[2]+1
plot(NULL,xlim=xlim,ylim=ylim,xlab="age",ylab=sub("population_mean_","",entry))
lines(d1[,"age"],d1[,"mean"],lwd=2)
lines(d1[,"age"],d1[,"mean"]+d1[,"sd"]*1,lwd=1,col="grey50")
lines(d1[,"age"],d1[,"mean"]+d1[,"sd"]*2,lwd=1,col="grey70")
lines(d1[,"age"],d1[,"mean"]-d1[,"sd"]*1,lwd=1,col="grey50")
lines(d1[,"age"],d1[,"mean"]-d1[,"sd"]*2,lwd=1,col="grey70")
text("Mean",x=xlim[2],y=d1[nrow(d1),"mean"]+d1[nrow(d1),"sd"]*0,cex=0.7,adj=1)
text("+1SD",x=xlim[2],y=d1[nrow(d1),"mean"]+d1[nrow(d1),"sd"]*1,cex=0.7,adj=1)
text("+2SD",x=xlim[2],y=d1[nrow(d1),"mean"]+d1[nrow(d1),"sd"]*2,cex=0.7,adj=1)
text("-1SD",x=xlim[2],y=d1[nrow(d1),"mean"]-d1[nrow(d1),"sd"]*1,cex=0.7,adj=1)
text("-2SD",x=xlim[2],y=d1[nrow(d1),"mean"]-d1[nrow(d1),"sd"]*2,cex=0.7,adj=1)
}
dev.off()
d<-read.table("R_scripts/bio_age/2016-09-08_means.txt",row.names=1)
entries<-grep("_mean_",rownames(d),value=T)
pdf("2016-09-12_plots_of_development.pdf")
layout(matrix(1:4,nrow=2))
for(entry in entries){
d1<-data.frame(mean=t(d[entry,])[,1],sd=t(d[sub("mean","sd",entry),])[,1],age=t(d["Age",])[,1])
ylim <- c(min(d1[,"mean"] - d1[,"sd"]*1.96), max(d1[,"mean"] + d1[,"sd"]*1.96))
xlim <- range(d1[,"age"])
xlim[2] <- xlim[2]+1
plot(NULL,xlim=xlim,ylim=ylim,xlab="age",ylab=sub("population_mean_","",entry))
lines(d1[,"age"],d1[,"mean"],lwd=2)
lines(d1[,"age"],d1[,"mean"]+d1[,"sd"]*1,lwd=1,col="grey50")
lines(d1[,"age"],d1[,"mean"]+d1[,"sd"]*2,lwd=1,col="grey70")
lines(d1[,"age"],d1[,"mean"]-d1[,"sd"]*1,lwd=1,col="grey50")
lines(d1[,"age"],d1[,"mean"]-d1[,"sd"]*2,lwd=1,col="grey70")
text("Mean",x=xlim[2],y=d1[nrow(d1),"mean"]+d1[nrow(d1),"sd"]*0,cex=0.7,adj=1)
text("+1SD",x=xlim[2],y=d1[nrow(d1),"mean"]+d1[nrow(d1),"sd"]*1,cex=0.7,adj=1)
text("+2SD",x=xlim[2],y=d1[nrow(d1),"mean"]+d1[nrow(d1),"sd"]*2,cex=0.7,adj=1)
text("-1SD",x=xlim[2],y=d1[nrow(d1),"mean"]-d1[nrow(d1),"sd"]*1,cex=0.7,adj=1)
text("-2SD",x=xlim[2],y=d1[nrow(d1),"mean"]-d1[nrow(d1),"sd"]*2,cex=0.7,adj=1)
}
dev.off()
d<-read.table("R_scripts/bio_age/2016-09-08_means.txt",row.names=1)
entries<-grep("_mean_",rownames(d),value=T)
pdf("2016-09-12_plots_of_development.pdf")
layout(matrix(1:4,nrow=2))
for(entry in entries){
d1<-data.frame(mean=t(d[entry,])[,1],sd=t(d[sub("mean","sd",entry),])[,1],age=t(d["Age",])[,1])
ylim <- c(min(d1[,"mean"] - d1[,"sd"]*1.96), max(d1[,"mean"] + d1[,"sd"]*1.96))
xlim <- range(d1[,"age"])
xlim[2] <- xlim[2]+1
plot(NULL,xlim=xlim,ylim=ylim,xlab="age",ylab=sub("population_mean_","",entry))
lines(d1[,"age"],d1[,"mean"],lwd=2)
lines(d1[,"age"],d1[,"mean"]+d1[,"sd"]*1,lwd=1,col="grey50")
lines(d1[,"age"],d1[,"mean"]+d1[,"sd"]*2,lwd=1,col="grey70")
lines(d1[,"age"],d1[,"mean"]-d1[,"sd"]*1,lwd=1,col="grey50")
lines(d1[,"age"],d1[,"mean"]-d1[,"sd"]*2,lwd=1,col="grey70")
text("Mean",x=xlim[2],y=d1[nrow(d1),"mean"]+d1[nrow(d1),"sd"]*0,cex=0.7,adj=1)
text("+1SD",x=xlim[2],y=d1[nrow(d1),"mean"]+d1[nrow(d1),"sd"]*1,cex=0.7,adj=1)
text("+2SD",x=xlim[2],y=d1[nrow(d1),"mean"]+d1[nrow(d1),"sd"]*2,cex=0.7,adj=1)
text("-1SD",x=xlim[2],y=d1[nrow(d1),"mean"]-d1[nrow(d1),"sd"]*1,cex=0.7,adj=1)
text("-2SD",x=xlim[2],y=d1[nrow(d1),"mean"]-d1[nrow(d1),"sd"]*2,cex=0.7,adj=1)
}
dev.off()
d<-read.table("R_scripts/bio_age/2016-09-08_means.txt",row.names=1)
entries<-grep("_mean_",rownames(d),value=T)
pdf("2016-09-12_plots_of_development.pdf")
layout(matrix(1:4,nrow=2))
for(entry in entries){
d1<-data.frame(mean=t(d[entry,])[,1],sd=t(d[sub("mean","sd",entry),])[,1],age=t(d["Age",])[,1])
ylim <- c(min(d1[,"mean"] - d1[,"sd"]*1.96), max(d1[,"mean"] + d1[,"sd"]*1.96))
xlim <- range(d1[,"age"])
xlim[2] <- xlim[2]+1
plot(NULL,xlim=xlim,ylim=ylim,xlab="age",ylab=sub("population_mean_","",entry))
lines(d1[,"age"],d1[,"mean"],lwd=2)
lines(d1[,"age"],d1[,"mean"]+d1[,"sd"]*1,lwd=1,col="grey50")
lines(d1[,"age"],d1[,"mean"]+d1[,"sd"]*2,lwd=1,col="grey70")
lines(d1[,"age"],d1[,"mean"]-d1[,"sd"]*1,lwd=1,col="grey50")
lines(d1[,"age"],d1[,"mean"]-d1[,"sd"]*2,lwd=1,col="grey70")
text("Mean",x=xlim[2],y=d1[nrow(d1),"mean"]+d1[nrow(d1),"sd"]*0,cex=0.7,adj=1)
text("+1SD",x=xlim[2],y=d1[nrow(d1),"mean"]+d1[nrow(d1),"sd"]*1,cex=0.7,adj=1)
text("+2SD",x=xlim[2],y=d1[nrow(d1),"mean"]+d1[nrow(d1),"sd"]*2,cex=0.7,adj=1)
text("-1SD",x=xlim[2],y=d1[nrow(d1),"mean"]-d1[nrow(d1),"sd"]*1,cex=0.7,adj=1)
text("-2SD",x=xlim[2],y=d1[nrow(d1),"mean"]-d1[nrow(d1),"sd"]*2,cex=0.7,adj=1)
}
dev.off()
d<-read.table("R_scripts/bio_age/2016-09-08_means.txt",row.names=1)
entries<-grep("_mean_",rownames(d),value=T)
pdf("2016-09-12_plots_of_development.pdf")
layout(matrix(1:4,nrow=2))
for(entry in entries){
d1<-data.frame(mean=t(d[entry,])[,1],sd=t(d[sub("mean","sd",entry),])[,1],age=t(d["Age",])[,1])
ylim <- c(min(d1[,"mean"] - d1[,"sd"]*1.96), max(d1[,"mean"] + d1[,"sd"]*1.96))
xlim <- range(d1[,"age"])
xlim[2] <- xlim[2]+1
plot(NULL,xlim=xlim,ylim=ylim,xlab="age",ylab=sub("population_mean_","",entry))
lines(d1[,"age"],d1[,"mean"],lwd=2)
lines(d1[,"age"],d1[,"mean"]+d1[,"sd"]*1,lwd=1,col="grey50")
lines(d1[,"age"],d1[,"mean"]+d1[,"sd"]*2,lwd=1,col="grey70")
lines(d1[,"age"],d1[,"mean"]-d1[,"sd"]*1,lwd=1,col="grey50")
lines(d1[,"age"],d1[,"mean"]-d1[,"sd"]*2,lwd=1,col="grey70")
text("Mean",x=xlim[2],y=d1[nrow(d1),"mean"]+d1[nrow(d1),"sd"]*0,cex=0.7,adj=1)
text("+1SD",x=xlim[2],y=d1[nrow(d1),"mean"]+d1[nrow(d1),"sd"]*1,cex=0.7,adj=1)
text("+2SD",x=xlim[2],y=d1[nrow(d1),"mean"]+d1[nrow(d1),"sd"]*2,cex=0.7,adj=1)
text("-1SD",x=xlim[2],y=d1[nrow(d1),"mean"]-d1[nrow(d1),"sd"]*1,cex=0.7,adj=1)
text("-2SD",x=xlim[2],y=d1[nrow(d1),"mean"]-d1[nrow(d1),"sd"]*2,cex=0.7,adj=1)
}
dev.off()
d<-read.table("R_scripts/bio_age/2016-09-08_means.txt",row.names=1)
entries<-grep("_mean_",rownames(d),value=T)
pdf("2016-09-12_plots_of_development.pdf")
layout(matrix(1:4,nrow=2))
for(entry in entries){
d1<-data.frame(mean=t(d[entry,])[,1],sd=t(d[sub("mean","sd",entry),])[,1],age=t(d["Age",])[,1])
ylim <- c(min(d1[,"mean"] - d1[,"sd"]*1.96), max(d1[,"mean"] + d1[,"sd"]*1.96))
xlim <- range(d1[,"age"])
xlim[2] <- xlim[2]+1
plot(NULL,xlim=xlim,ylim=ylim,xlab="age",ylab=sub("population_mean_","",entry))
lines(d1[,"age"],d1[,"mean"],lwd=2)
lines(d1[,"age"],d1[,"mean"]+d1[,"sd"]*1,lwd=1,col="grey50")
lines(d1[,"age"],d1[,"mean"]+d1[,"sd"]*2,lwd=1,col="grey70")
lines(d1[,"age"],d1[,"mean"]-d1[,"sd"]*1,lwd=1,col="grey50")
lines(d1[,"age"],d1[,"mean"]-d1[,"sd"]*2,lwd=1,col="grey70")
text("Mean",x=xlim[2],y=d1[nrow(d1),"mean"]+d1[nrow(d1),"sd"]*0,cex=0.7,adj=1)
text("+1SD",x=xlim[2],y=d1[nrow(d1),"mean"]+d1[nrow(d1),"sd"]*1,cex=0.7,adj=1)
text("+2SD",x=xlim[2],y=d1[nrow(d1),"mean"]+d1[nrow(d1),"sd"]*2,cex=0.7,adj=1)
text("-1SD",x=xlim[2],y=d1[nrow(d1),"mean"]-d1[nrow(d1),"sd"]*1,cex=0.7,adj=1)
text("-2SD",x=xlim[2],y=d1[nrow(d1),"mean"]-d1[nrow(d1),"sd"]*2,cex=0.7,adj=1)
}
dev.off()
d<-read.table("R_scripts/bio_age/2016-09-08_means.txt",row.names=1)
entries<-grep("_mean_",rownames(d),value=T)
pdf("2016-09-12_plots_of_development.pdf")
layout(matrix(1:4,nrow=2))
for(entry in entries){
d1<-data.frame(mean=t(d[entry,])[,1],sd=t(d[sub("mean","sd",entry),])[,1],age=t(d["Age",])[,1])
ylim <- c(min(d1[,"mean"] - d1[,"sd"]*1.96), max(d1[,"mean"] + d1[,"sd"]*1.96))
xlim <- range(d1[,"age"])
xlim[2] <- xlim[2]+1
plot(NULL,xlim=xlim,ylim=ylim,xlab="age",ylab=sub("population_mean_","",entry))
lines(d1[,"age"],d1[,"mean"],lwd=2)
lines(d1[,"age"],d1[,"mean"]+d1[,"sd"]*1,lwd=1,col="grey50")
lines(d1[,"age"],d1[,"mean"]+d1[,"sd"]*2,lwd=1,col="grey70")
lines(d1[,"age"],d1[,"mean"]-d1[,"sd"]*1,lwd=1,col="grey50")
lines(d1[,"age"],d1[,"mean"]-d1[,"sd"]*2,lwd=1,col="grey70")
text("Mean",x=xlim[2],y=d1[nrow(d1),"mean"]+d1[nrow(d1),"sd"]*0,cex=0.7,adj=1)
text("+1SD",x=xlim[2],y=d1[nrow(d1),"mean"]+d1[nrow(d1),"sd"]*1,cex=0.7,adj=1)
text("+2SD",x=xlim[2],y=d1[nrow(d1),"mean"]+d1[nrow(d1),"sd"]*2,cex=0.7,adj=1)
text("-1SD",x=xlim[2],y=d1[nrow(d1),"mean"]-d1[nrow(d1),"sd"]*1,cex=0.7,adj=1)
text("-2SD",x=xlim[2],y=d1[nrow(d1),"mean"]-d1[nrow(d1),"sd"]*2,cex=0.7,adj=1)
}
dev.off()
